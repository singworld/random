(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/index"],{"26ed":function(t,n,o){"use strict";var e=o("800c"),u=o.n(e);u.a},"800c":function(t,n,o){},8023:function(t,n,o){"use strict";(function(t){o("a7bb");e(o("66fd"));var n=e(o("e855"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("543d")["createPage"])},"8f4e":function(t,n,o){"use strict";o.d(n,"b",(function(){return u})),o.d(n,"c",(function(){return i})),o.d(n,"a",(function(){return e}));var e={uButton:function(){return o.e("uview-ui/components/u-button/u-button").then(o.bind(null,"3395"))},uWaterfall:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-waterfall/u-waterfall")]).then(o.bind(null,"4803"))},uLazyLoad:function(){return o.e("uview-ui/components/u-lazy-load/u-lazy-load").then(o.bind(null,"6f98"))},uSubsection:function(){return o.e("uview-ui/components/u-subsection/u-subsection").then(o.bind(null,"315b"))},uSwipeAction:function(){return o.e("uview-ui/components/u-swipe-action/u-swipe-action").then(o.bind(null,"1c2a"))}},u=function(){var t=this,n=t.$createElement;t._self._c},i=[]},c33a:function(t,n,o){"use strict";var e=o("fbf7"),u=o.n(e);u.a},cf20:function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(o("2520")),u=i(o("96d8"));function i(t){return t&&t.__esModule?t:{default:t}}var c={data:function(){return{ttGoodList:null,userInfo:{},list:[{name:"未使用"},{name:"已使用"}],current:0,giftList:[{id:1,name:"陪聊券",show:0},{id:2,name:"陪玩券",show:0},{id:3,name:"学习券",show:0}],options:[{text:"使用",style:{backgroundColor:"#007aff"}}]}},onLoad:function(){this.getGoods(),this.getGift()},onReachBottom:function(){},methods:{useGift:function(n){var o=this;e.default.request(u.default.UseGift+"?id="+n,{},"POST").then((function(n){console.log("save",n),0===n.errno?o.getGift():(console.log(n),t.showToast({title:n.errmsg,duration:2e3}))})).catch((function(t){console.log(t)}))},getGoods:function(){var t=this;e.default.request(u.default.GetGoods).then((function(n){console.log("GetGoods",n),0===n.errno?t.ttGoodList=n.data.ttGoodList:console.log(n)})).catch((function(t){console.log(t)}))},buy:function(n){var o=this;console.log(n),t.showModal({title:"提示",content:"确认兑换吗？",success:function(t){t.confirm?(console.log("用户点击确定"),o.buyGoods(n)):t.cancel&&console.log("用户点击取消")}})},buyGoods:function(n){var o=this;e.default.request(u.default.BuyGoods+"?id="+n,{},"POST").then((function(n){console.log("save",n),0===n.errno?o.getGift():(console.log(n),t.showToast({title:n.errmsg,duration:2e3}))})).catch((function(t){console.log(t)}))},sectionChange:function(t){this.current=t,this.getGift()},getGift:function(){var t=this;e.default.request(u.default.GetGift+"?status="+this.current).then((function(n){0===n.errno?(t.giftList=n.data.giftList,t.userInfo=n.data.userInfo):console.log(n)})).catch((function(t){console.log(t)}))},click:function(t,n){console.log("使用了"),this.useGift(this.giftList[t].id)},open:function(t){var n=this;this.giftList[t].show=!0,this.giftList.map((function(o,e){t!=e&&(n.giftList[e].show=!1)}))}}};n.default=c}).call(this,o("543d")["default"])},d60e:function(t,n,o){"use strict";o.r(n);var e=o("cf20"),u=o.n(e);for(var i in e)"default"!==i&&function(t){o.d(n,t,(function(){return e[t]}))}(i);n["default"]=u.a},e855:function(t,n,o){"use strict";o.r(n);var e=o("8f4e"),u=o("d60e");for(var i in u)"default"!==i&&function(t){o.d(n,t,(function(){return u[t]}))}(i);o("26ed"),o("c33a");var c,s=o("f0c5"),f=Object(s["a"])(u["default"],e["b"],e["c"],!1,null,"58b71dbd",null,!1,e["a"],c);n["default"]=f.exports},fbf7:function(t,n,o){}},[["8023","common/runtime","common/vendor"]]]);