(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0839":function(e,n,t){"use strict";t.r(n);var o=t("bed7"),u=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=u.a},"543f":function(e,n,t){"use strict";var o=t("df16"),u=t.n(o);u.a},6614:function(e,n,t){"use strict";(function(e){t("a7bb");o(t("66fd"));var n=o(t("f169"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},b95c:function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return o}));var o={uAvatar:function(){return t.e("uview-ui/components/u-avatar/u-avatar").then(t.bind(null,"f3bf"))},uButton:function(){return t.e("uview-ui/components/u-button/u-button").then(t.bind(null,"3395"))},uGap:function(){return t.e("uview-ui/components/u-gap/u-gap").then(t.bind(null,"27df"))},uCard:function(){return t.e("uview-ui/components/u-card/u-card").then(t.bind(null,"6028"))},uSwipeAction:function(){return t.e("uview-ui/components/u-swipe-action/u-swipe-action").then(t.bind(null,"1c2a"))},uPopup:function(){return t.e("uview-ui/components/u-popup/u-popup").then(t.bind(null,"4e20"))},uLine:function(){return t.e("uview-ui/components/u-line/u-line").then(t.bind(null,"1ba1"))},uUpload:function(){return t.e("uview-ui/components/u-upload/u-upload").then(t.bind(null,"ee50"))},uIcon:function(){return t.e("uview-ui/components/u-icon/u-icon").then(t.bind(null,"d6ba"))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-input/u-input")]).then(t.bind(null,"a81d"))},uTabbar:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-tabbar/u-tabbar")]).then(t.bind(null,"3e15"))}},u=function(){var e=this,n=e.$createElement,t=(e._self._c,e.userInfo.avatarUrl?e._f("formatSex")(e.userInfo.gender):null);e.$mp.data=Object.assign({},{$root:{f0:t}})},r=[]},bed7:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=c(t("a34a")),u=c(t("2520")),r=c(t("96d8"));i(t("bf26"));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a();if(n&&n.has(e))return n.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var r=o?Object.getOwnPropertyDescriptor(e,u):null;r&&(r.get||r.set)?Object.defineProperty(t,u,r):t[u]=e[u]}return t.default=e,n&&n.set(e,t),t}function c(e){return e&&e.__esModule?e:{default:e}}function s(e,n,t,o,u,r,a){try{var i=e[r](a),c=i.value}catch(s){return void t(s)}i.done?n(c):Promise.resolve(c).then(o,u)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(o,u){var r=e.apply(n,t);function a(e){s(r,o,u,a,i,"next",e)}function i(e){s(r,o,u,a,i,"throw",e)}a(void 0)}))}}getApp();var f={data:function(){return{thumb:"https://wx.jianxiaoxin.com/wx/storage/fetch/9ykjwr5fb8947rmilsx9.png",action:r.default.Upload,remark:"",TabbarList:null,activeId:null,activeIndex:null,customStyle:{marginTop:"20px",color:"white",width:"350rpx",background:"#FF99CC"},userInfo:{nickName:"小可爱",avatarUrl:null,gender:1},current:0,taskList:[],disabled:!1,btnWidth:180,show:!1,options:[{text:"打卡",style:{backgroundColor:"#007aff"}},{text:"删除",style:{backgroundColor:"#dd524d"}}]}},computed:{welcomeMessage:function(){var e=new Date,n=e.getHours(),t="早上好";return t=n<6?"凌晨好，":n<9?"早上好，":n<12?"上午好，":n<14?"中午好，":n<17?"下午好，":n<19?"傍晚好，":n<22?"晚上好，":"夜里好，",t}},methods:{submit:function(){var n=this;return l(o.default.mark((function t(){var u;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getStorageSync("token"),console.log("activeId",n.activeId),n.$refs.uUpload.formData={remark:n.remark,activeId:n.activeId},u={"Content-Type":"application/json","X-Litemall-Token":e.getStorageSync("token")},n.$refs.uUpload.header=u,t.next=7,n.$refs.uUpload.upload();case 7:t.sent,n.$refs.uUpload.remove(0),n.taskList.splice(n.activeIndex,1),n.show=!1;case 11:case"end":return t.stop()}}),t)})))()},getUserProfile:function(){var n=this;e.getUserProfile({desc:"获取头像",success:function(e){console.log("userInfo",e.userInfo),n.userInfo=e.userInfo,n.saveUserInfo()},fail:function(e){console.log("eeeee",e)}})},saveUserInfo:function(){u.default.request(r.default.SaveUserInfoApi,{userInfo:this.userInfo},"POST").then((function(e){console.log("save",e),0===e.errno?wx.setStorageSync("userInfo",e.data.userInfo):console.log(e)})).catch((function(e){console.log(e)}))},getTaskIndex:function(){var e=this;u.default.request(r.default.TaskIndex).then((function(n){console.log("getTaskIndex",n),0===n.errno?e.taskList=n.data.taskList:console.log(n)})).catch((function(e){console.log(e)}))},click:function(e,n){1==n?(this.taskList.splice(e,1),this.$u.toast("删除了第".concat(e,"个cell"))):(this.activeIndex=e,this.activeId=this.taskList[e].id,this.show=!0)},open:function(e){var n=this;this.taskList[e].show=!0,this.taskList.map((function(t,o){e!=o&&(n.taskList[o].show=!1)}))}},onShareAppMessage:function(n){var t=e.getStorageSync("distSource");if(t)return{title:"欢迎使用",type:0,path:"/pages/index/index?id="+t,summary:"",imageUrl:"https://58d.oss-cn-hangzhou.aliyuncs.com/goods/ttg_1596073788000.png"}},onShareTimeline:function(n){var t=e.getStorageSync("distSource");if(t)return{title:"欢迎使用",type:0,query:"id="+t,summary:"",imageUrl:""}},onLoad:function(){console.log("页面加载"),wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});var n=e.getStorageSync("userInfo");console.log("onload里面的userInfo",n);var t=e.getStorageSync("token");console.log("onload里面的token",t),this.TabbarList=r.default.TabbarList,this.getTaskIndex()},onShow:function(){},onReady:function(){var n=e.getStorageSync("userInfo");console.log("onReady 里面的userInfo",n),n.nickName&&(this.userInfo=n)}};n.default=f}).call(this,t("543d")["default"])},df16:function(e,n,t){},f169:function(e,n,t){"use strict";t.r(n);var o=t("b95c"),u=t("0839");for(var r in u)"default"!==r&&function(e){t.d(n,e,(function(){return u[e]}))}(r);t("543f");var a,i=t("f0c5"),c=Object(i["a"])(u["default"],o["b"],o["c"],!1,null,"03a8964d",null,!1,o["a"],a);n["default"]=c.exports}},[["6614","common/runtime","common/vendor"]]]);